doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
    meta(name='description' content='')
    meta(name='author' content='Mark Otto, Jacob Thornton, and Bootstrap contributors')
    meta(name='generator' content='Jekyll v4.1.1')
    title Checkout example · Bootstrap
    link(rel='canonical' href='https://getbootstrap.com/docs/4.5/examples/checkout/')
    // Bootstrap core CSS
    link(href='https://getbootstrap.com/docs/4.5/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2' crossorigin='anonymous')
    style.
      .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      }
      @media (min-width: 768px) {
      .bd-placeholder-img-lg {
      font-size: 3.5rem;
      }
      }
    // Custom styles for this template
    link(href='https://getbootstrap.com/docs/4.5/examples/checkout/form-validation.css' rel='stylesheet')
    link(href='../../css/db_inner.css' rel='stylesheet')
  body.bg-light
    .container.page
      nav.navbar.navbar-expand-sm.navbar-dark.bg-dark
        button.navbar-toggler(type='button' data-toggle='collapse' data-target='#navbarTogglerDemo01' aria-controls='navbarTogglerDemo01' aria-expanded='false' aria-label='Toggle navigation')
          span.navbar-toggler-icon
        #navbarTogglerDemo01.collapse.navbar-collapse.prev
          a.navbar-brand.col-sm-7(href='#') Insert a new Company
      form(method='post')
        .row.motorinfo
          .col-md-4.order-md-2.mb-4
            h4.d-flex.justify-content-between.align-items-center.mb-3
              span.text-muted Company Pane 
              span.badge.badge-secondary.badge-pill.motorcount 1
            if company
              input-group.card.p-2
                a.btn.btn-warning(href=url+'/company/single/search/motor/'+company.id) View Motors
  
            input-group.card.p-2
              button.btn.btn-success(type='submit') Submit
            

          .col-md-8.order-md-1
            h4.mb-3 Company Details
            form
              #accordionExample.accordion
                .card
                  #headingOne.card-header
                    h2.mb-0
                      button.btn.btn-link(type='button' data-toggle='collapse' data-target='#collapseOne' aria-expanded='true' aria-controls='collapseOne')
                        | Company
                  #collapseOne.collapse.show(aria-labelledby='headingOne' data-parent='#accordionExample')
                    .card-body
                      .row
                        .col-md-6.mb-3
                          label(for='firstName') Data Created
                          input.form-control.currdate(type='text' name='currdate' placeholder='' value='' required='' readonly)
                      .row
                        .col-md-6.mb-3
                          label(for='firstName') Company Name
                          input.form-control#maxID(type='text' name='compname' placeholder='' value='' required='' )
                          .invalid-feedback
                            | Valid last name is required.
                      .row
                        .col-md-6.mb-3
                          label(for='firstName') Contact Person 1
                          input.form-control#maxID(type='text' name='contact1' placeholder='' value='' required='' )
                          .invalid-feedback
                            | Valid last name is required.
                        .col-md-6.mb-3
                          label(for='firstName') Contact Person 2
                          input.form-control#maxID(type='text' name='contact2' placeholder='' value='')
                          .invalid-feedback
                            | Valid last name is required.
                      .row
                        .col-md-6.mb-3
                          label(for='firstName') Job Title - Contact Person 1
                          input.form-control#maxID(type='text' name='jobtitle' placeholder='' value='' required='' )
                          .invalid-feedback
                            | Valid last name is required.
                        .col-md-6.mb-3
                          label(for='firstName') Job Title - Contact Person 2
                          input.form-control#maxID(type='text' name='jobtitle2' placeholder='' value='' )
                          .invalid-feedback
                            | Valid last name is required.
                        
                      .row
                        .col-md-6.mb-3
                            label(for='firstName') E-mail
                            input.form-control#maxID(type='text' name='email' placeholder='' value='' required='')
                            .invalid-feedback
                              | Valid last name is required.
                        .col-md-6.mb-3
                          label(for='firstName') Web Page
                          input.form-control#maxID(type='text' name='webpage' placeholder='' value='' )
                          .invalid-feedback
                            | Valid last name is required.
                        
                      .row
                        .col-md-6.mb-3
                            label(for='firstName') Business Phone
                            input.form-control#maxID(type='text' name='bphone' placeholder='' value='' )
                            .invalid-feedback
                              | Valid last name is required.
                        .col-md-6.mb-3
                          label(for='firstName') Home Phone
                          input.form-control#maxID(type='text' name='hphone' placeholder='' value='')
                          .invalid-feedback
                            | Valid last name is required.
                        
                      .row
                        .col-md-6.mb-3
                            label(for='firstName') Mobile Phone
                            input.form-control#maxID(type='text' name='mphone' placeholder='' value='' required='')
                            .invalid-feedback
                              | Valid last name is required.
                        .col-md-6.mb-3
                          label(for='firstName') Fax Number
                          input.form-control#maxID(type='text' name='faxnumber' placeholder='' value='')
                          .invalid-feedback
                            | Valid last name is required.

                      .row
                        .col-md-6.mb-3
                          label(for='firstName') Street
                          input.form-control#maxID(type='text' name='street' placeholder='' value='' required='' )
                          .invalid-feedback
                            | Valid last name is required.
                        .col-md-6.mb-3
                          label(for='firstName') Brgy
                          input.form-control#maxID(type='text' name='brgy' placeholder='' value='' required='')
                          .invalid-feedback
                            | Valid last name is required.
                        
                      .row
                        .col-md-6.mb-3
                            label(for='firstName') City
                            input.form-control#maxID(type='text' name='city' placeholder='' value='' required='')
                            .invalid-feedback
                              | Valid last name is required.
                        .col-md-6.mb-3
                          label(for='firstName') State/Province
                          input.form-control#maxID(type='text' name='state' placeholder='' value='' required='' )
                          .invalid-feedback
                            | Valid last name is required.
                        
                      .row
                        .col-md-6.mb-3
                          label(for='firstName') Country/Region
                          input.form-control#maxID(type='text' name='country' placeholder='' value='' required='' )
                          .invalid-feedback
                            | Valid last name is required.
                        .col-md-6.mb-3
                            label(for='firstName') Zip/Postal Code
                            input.form-control#maxID(type='text' name='zip' placeholder='' value='' required='')
                            .invalid-feedback
                              | Valid last name is required.


                      .form-group
                        label(for='exampleFormControlTextarea1') Notes
                        textarea#remarks.form-control(rows='3' name='notes')
    footer.my-5.pt-5.text-muted.text-center.text-small
      p.mb-1 © 2020 Calamba Allied Industrial Corp.
      ul.list-inline
        li.list-inline-item
          a(href='#') Web App by Lan Cortez
    script(src='https://code.jquery.com/jquery-3.5.1.slim.min.js' integrity='sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj' crossorigin='anonymous')
    script.
      window.jQuery || document.write('<script src="/docs/4.5/assets/js/vendor/jquery.slim.min.js"><\\/script>')
    script(src='https://getbootstrap.com/docs/4.5/dist/js/bootstrap.bundle.min.js' integrity='sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx' crossorigin='anonymous')
    script(src='https://getbootstrap.com/docs/4.5/examples/checkout/form-validation.js')
    script(src='../../js/newMotor.js')
    script(src='https://code.jquery.com/jquery-3.5.1.min.js')
    script. 
      
      var today = new Date();
      var dd = String(today.getDate()).padStart(2, '0');
      var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
      var yyyy = today.getFullYear();
      

      today = yyyy + '-' + mm + '-' + dd;
      -$(".currdate").val(today.toString());

      -$('input[name="contact2"]').on('change', function(){
        if($(this).val() != '')
          $('input[name="jobtitle2"]').prop('required', true)
        else 
          $('input[name="jobtitle2"]').prop('required', false)
      })

      if(!{JSON.stringify(company)})
      {
        const company = !{JSON.stringify(company)};
        if(company != null)
        {
          
          //Fillout TextFields
          -$('input[type="text"]').each(function( index ) {
              var name = $(this).prop('name')
              $(this).val(company[name]);
          })
          //Fillout TextAreas
          -$('textarea').each(function( index ) {
              var name = $(this).prop('name')
              $(this).val(company[name]);
          })

        }
      
      }

    
    